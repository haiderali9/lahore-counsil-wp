(function(t,e){if(typeof exports==="object"){module.exports=e()}else if(typeof define==="function"&&define.amd){define(["./spin"],e)}else{t.Ladda=e(t.Spinner)}})(this,function(o){"use strict";var a=[];function s(n){if(typeof n==="undefined"){console.warn("Ladda button target must be defined.");return}if(!n.querySelector(".ladda-label")){n.innerHTML='<span class="ladda-label">'+n.innerHTML+"</span>"}var t=u(n);var e=document.createElement("span");e.className="ladda-spinner";n.appendChild(e);var i;var r={start:function(){n.setAttribute("disabled","");n.setAttribute("data-loading","");clearTimeout(i);t.spin(e);this.setProgress(0);return this},startAfter:function(t){clearTimeout(i);i=setTimeout(function(){r.start()},t);return this},stop:function(){n.removeAttribute("disabled");n.removeAttribute("data-loading");clearTimeout(i);i=setTimeout(function(){t.stop()},1e3);return this},remove:function(){if(this.isLoading()){this.stop()}e.parentNode.removeChild(e);return this},toggle:function(){if(this.isLoading()){this.stop()}else{this.start()}return this},setProgress:function(t){t=Math.max(Math.min(t,1),0);var e=n.querySelector(".ladda-progress");if(t===0&&e&&e.parentNode){e.parentNode.removeChild(e)}else{if(!e){e=document.createElement("div");e.className="ladda-progress";n.appendChild(e)}e.style.width=(t||0)*n.offsetWidth+"px"}},enable:function(){this.stop();return this},disable:function(){this.stop();n.setAttribute("disabled","");return this},isLoading:function(){return n.hasAttribute("data-loading")},getTarget:function(){return n}};a.push(r);return r}function t(t,i){i=i||{};var r=[];if(typeof t==="string"){r=n(document.querySelectorAll(t))}else if(typeof t==="object"&&typeof t.nodeName==="string"){r=[t]}for(var a=0,e=r.length;a<e;a++){(function(){var t=r[a];if(typeof t.addEventListener==="function"){var e=s(t);var n=-1;t.addEventListener("click",function(){e.startAfter(1);if(typeof i.timeout==="number"){clearTimeout(n);n=setTimeout(e.stop,i.timeout)}if(typeof i.callback==="function"){i.callback.apply(null,[e])}},false)}})()}}function e(){for(var t=0,e=a.length;t<e;t++){a[t].stop()}}function u(t){var e=t.offsetHeight,n;if(e>32){e*=.8}if(t.hasAttribute("data-spinner-size")){e=parseInt(t.getAttribute("data-spinner-size"),10)}if(t.hasAttribute("data-spinner-color")){n=t.getAttribute("data-spinner-color")}var i=12,r=e*.2,a=r*.6,s=r<7?2:3;return new o({color:n||"#fff",lines:i,radius:r,length:a,width:s,zIndex:"auto",top:"50%",left:"50%",className:""})}function n(t){var e=[];for(var n=0;n<t.length;n++){e.push(t[n])}return e}return{bind:t,create:s,stopAll:e}});